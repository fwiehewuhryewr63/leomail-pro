<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE MATRIX [v8.0]</title>
    <!-- Matrix Font -->
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <canvas id="matrix-bg"></canvas>
    <div class="scanline"></div>

    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="brand-icon">
                <i class="fas fa-biohazard"></i>
            </div>
            <nav class="nav-menu">
                <div class="nav-item active" id="nav-sessions" title="Characters">
                    <i class="fas fa-user-astronaut"></i>
                    <span class="tooltip">Characters</span>
                </div>
                <div class="nav-item" id="nav-proxies" title="Gateways">
                    <i class="fas fa-network-wired"></i>
                    <span class="tooltip">Gateways</span>
                </div>
                <div class="nav-item" id="nav-warmup" title="Training">
                    <i class="fas fa-dumbbell"></i>
                    <span class="tooltip">Training</span>
                </div>
                <div class="nav-item" id="nav-mailer" title="Messaging">
                    <i class="fas fa-terminal"></i>
                    <span class="tooltip">Comms</span>
                </div>
                <div class="nav-item" id="nav-settings" title="System">
                    <i class="fas fa-microchip"></i>
                    <span class="tooltip">System</span>
                </div>
            </nav>
            <div class="sidebar-footer">
                <div class="nav-item" id="nav-export" title="Extract Data">
                    <i class="fas fa-file-export"></i>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">

            <!-- VIEW: CHARACTERS (Sessions) -->
            <div class="view active" id="sessions">
                <div class="toolbar">
                    <div class="terminal-text">>> SELECT_CHARACTER</div>
                    <div class="toolbar-group">
                        <div class="search-bar">
                            <span class="prompt">></span>
                            <input type="text" id="session-search" placeholder="SEARCH_DB...">
                        </div>
                        <button class="btn btn-icon" id="refresh-sessions"><i class="fas fa-sync fa-spin"></i></button>
                    </div>
                    <div class="toolbar-group">
                        <button class="btn btn-primary" id="btn-create-session">[+] SPAWN_NEW</button>
                        <button class="btn btn-danger" id="btn-delete-selected">[x] TERMINATE</button>
                    </div>
                </div>

                <div class="data-grid-container">
                    <table class="data-grid">
                        <thead>
                            <tr>
                                <th width="40">#</th>
                                <th width="60">UID</th>
                                <th width="200">IDENTITY (EMAIL)</th>
                                <th width="150">STATUS</th>
                                <th width="150">GATEWAY</th>
                                <th width="100">XP (WARMUP)</th>
                                <th width="120">CREATION</th>
                                <th width="100">ACTIONS</th>
                            </tr>
                        </thead>
                        <tbody id="sessions-tbody">
                            <!-- Rows injected by JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- VIEW: GATEWAYS (Proxies) -->
            <div class="view" id="proxies">
                <div class="toolbar">
                    <div class="terminal-text">>> GATEWAY_NODES</div>
                    <div class="toolbar-group">
                        <button class="btn btn-primary" id="btn-add-proxy">ADD_NODE</button>
                        <button class="btn btn-secondary" id="btn-check-proxies">PING_ALL</button>
                    </div>
                </div>
                <div class="data-grid-container">
                    <table class="data-grid">
                        <thead>
                            <tr>
                                <th>IP_ADDRESS</th>
                                <th>PORT</th>
                                <th>PROTO</th>
                                <th>TYPE</th>
                                <th>GEO</th>
                                <th>SIGNAL</th>
                                <th>CMD</th>
                            </tr>
                        </thead>
                        <tbody id="proxies-tbody">
                            <!-- Rows injected by JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- VIEW: TRAINING (Warmup) -->
            <div class="view" id="warmup">
                <div class="toolbar">
                    <div class="terminal-text">>> TRAINING_PROGRAM</div>
                    <div class="queue-stats">
                        <span class="stat-tag">ACTIVE: <b id="warmup-active-count">0</b></span>
                        <span class="stat-tag">QUEUED: <b id="warmup-pending-count">0</b></span>
                    </div>
                </div>
                <div class="data-grid-container">
                    <table class="data-grid">
                        <thead>
                            <tr>
                                <th>SUBJECT</th>
                                <th>CURRENT_DRILL</th>
                                <th>PROGRESS</th>
                                <th>LAST_LOG</th>
                            </tr>
                        </thead>
                        <tbody id="warmup-tbody"></tbody>
                    </table>
                </div>
            </div>

            <!-- VIEW: COMMS (Mailer) -->
            <div class="view" id="mailer">
                <div class="split-view">
                    <div class="split-sidebar">
                        <div class="toolbar-mini">
                            <div class="terminal-text">>> COMMS_LINK</div>
                        </div>
                        <div id="mailer-accounts-list" class="list-group">
                            <!-- Account list -->
                        </div>
                    </div>
                    <div class="split-content" id="mail-content-area">
                        <div class="empty-state">>> AWAITING_CONNECTION...</div>
                    </div>
                </div>
            </div>

            <!-- VIEW: SYSTEM (Settings) -->
            <div class="view" id="settings">
                <div class="settings-container">
                    <div class="settings-header">
                        <h2>SYSTEM_CONFIG</h2>
                    </div>

                    <div class="settings-form">
                        <div class="form-section">
                            <h3>[SMS_UPLINK]</h3>
                            <div class="form-row">
                                <label>GRIZZLY_KEY</label>
                                <input type="password" id="set-grizzly" class="sphere-input">
                            </div>
                            <div class="form-row">
                                <label>SIMSMS_KEY</label>
                                <input type="password" id="set-simsms" class="sphere-input">
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>[SECURITY_BYPASS]</h3>
                            <div class="form-row">
                                <label>CAP_GURU_KEY</label>
                                <input type="password" id="set-capguru" class="sphere-input">
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>[CORE_PARAMS]</h3>
                            <div class="form-row">
                                <label>MAX_THREADS</label>
                                <input type="number" id="set-threads" class="sphere-input" value="35">
                            </div>
                            <div class="form-row">
                                <label>AI_CORE_KEY (GROQ)</label>
                                <input type="password" id="set-groq" class="sphere-input">
                            </div>
                        </div>

                        <button class="btn btn-success btn-block" id="btn-save-settings">COMMIT_CHANGES</button>
                    </div>
                </div>
            </div>

        </main>

        <!-- Status Bar -->
        <footer class="status-bar">
            <div class="status-item"><i class="fas fa-users"></i> TOT: <span id="sb-total">0</span></div>
            <div class="status-item"><i class="fas fa-check-circle"></i> LVL_MAX: <span id="sb-warmed">0</span></div>
            <div class="status-item"><i class="fas fa-bolt"></i> CPU: <span id="sb-threads">0</span></div>
            <div class="status-item right"><span id="sb-version">MATRIX_v8.0</span></div>
        </footer>
    </div>

    <!-- Modal -->
    <div id="ui-modal" class="modal-overlay" style="display: none;">
        <div class="modal-window">
            <div class="modal-header">
                <h3 id="modal-title">SYSTEM_MESSAGE</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-content" id="modal-body"></div>
            <div class="modal-actions" id="modal-actions">
                <button class="btn btn-primary" id="modal-confirm-btn">ACKNOWLEDGE</button>
            </div>
        </div>
    </div>

    <script src="matrix.js"></script> <!-- Matrix Rain -->
    <script src="app.js"></script>
</body>

</html>