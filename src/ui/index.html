<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE MATRIX [v8.0]</title>
    <!-- Matrix Font -->
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <canvas id="matrix-bg"></canvas>
    <div class="scanline"></div>

    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="brand-icon">
                <i class="fas fa-ghost"></i>
            </div>
            <nav class="nav-menu">
                <div class="nav-item active" id="nav-sessions" title="Agent Nodes">
                    <i class="fas fa-microchip"></i>
                    <span class="tooltip">Nodes</span>
                </div>
                <div class="nav-item" id="nav-proxies" title="Stream Intel">
                    <i class="fas fa-satellite-dish"></i>
                    <span class="tooltip">Intel</span>
                </div>
                <div class="nav-item" id="nav-warmup" title="Capabilities">
                    <i class="fas fa-bolt"></i>
                    <span class="tooltip">Power</span>
                </div>
                <div class="nav-item" id="nav-mailer" title="Command Terminal">
                    <i class="fas fa-terminal"></i>
                    <span class="tooltip">Shell</span>
                </div>
                <div class="nav-item" id="nav-ai" title="AI Brain">
                    <i class="fas fa-brain"></i>
                    <span class="tooltip">Brain</span>
                </div>
                <div class="nav-item" id="nav-settings" title="System Setup">
                    <i class="fas fa-cog"></i>
                    <span class="tooltip">Core</span>
                </div>
            </nav>
            <div class="sidebar-footer">
                <div class="nav-item" id="nav-export" title="Extract Data">
                    <i class="fas fa-file-export"></i>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">

            <!-- VIEW: AGENT NODES -->
            <div class="view active" id="sessions">
                <div class="toolbar">
                    <div class="terminal-text">>> ACTIVE_AGENT_NODES</div>
                    <div class="toolbar-group">
                        <button class="btn btn-primary" id="btn-refresh-agents">RESCAN_NETWORK</button>
                    </div>
                </div>

                <div class="data-grid-container">
                    <table class="data-grid">
                        <thead>
                            <tr>
                                <th width="100">NODE_ID</th>
                                <th width="200">PROCESS_NAME</th>
                                <th width="150">STATUS</th>
                                <th width="100">CPU_LOAD</th>
                                <th width="100">RAM</th>
                                <th>UPTIME</th>
                                <th width="120">ACTIONS</th>
                            </tr>
                        </thead>
                        <tbody id="sessions-tbody">
                            <!-- Injected: OpenClaw process info -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- VIEW: STREAM INTEL (Intelligence Streams) -->
            <div class="view" id="proxies">
                <div class="toolbar">
                    <div class="terminal-text">>> INTELLIGENCE_STREAMS</div>
                    <div class="toolbar-group">
                        <button class="btn btn-primary">SYNC_STREAMS</button>
                    </div>
                </div>
                <div class="data-grid-container">
                    <table class="data-grid">
                        <thead>
                            <tr>
                                <th>STREAM_SOURCE</th>
                                <th>PROTOCOL</th>
                                <th>LATENCY</th>
                                <th>DATA_THROUGHPUT</th>
                                <th>SECURITY</th>
                                <th>CMD</th>
                            </tr>
                        </thead>
                        <tbody id="proxies-tbody"></tbody>
                    </table>
                </div>
            </div>

            <!-- VIEW: CAPABILITIES (Agent Skills) -->
            <div class="view" id="warmup">
                <div class="toolbar">
                    <div class="terminal-text">>> AGENT_CAPABILITIES</div>
                </div>
                <div class="data-grid-container">
                    <div class="ai-grid">
                        <div class="ai-slot active">
                            <div class="ai-slot-number"><i class="fas fa-terminal"></i></div>
                            <div class="ai-input-group">
                                <div>SHELL_EXECUTION</div>
                                <div style="font-size:10px; color:var(--text-muted)">Enabled: Full access to OS</div>
                            </div>
                        </div>
                        <div class="ai-slot active">
                            <div class="ai-slot-number"><i class="fas fa-globe"></i></div>
                            <div class="ai-input-group">
                                <div>BROWSER_CONTROL</div>
                                <div style="font-size:10px; color:var(--text-muted)">Enabled: Stealth navigation</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEW: AI CORE (Grok Manager) -->
            <div class="view" id="ai-core">
                <div class="toolbar">
                    <div class="terminal-text">>> AI_CORE_MANAGEMENT</div>
                    <div class="toolbar-group">
                        <span class="stat-tag">ACTIVE_NODES: <b id="ai-active-count">0/10</b></span>
                    </div>
                </div>

                <div class="ai-grid-container">
                    <div class="ai-grid" id="ai-key-grid">
                        <!-- 10 Slots injected by JS -->
                    </div>
                </div>
            </div>

            <!-- VIEW: SHELL (Terminal) -->
            <div class="view" id="mailer">
                <div class="toolbar">
                    <div class="terminal-text">>> OVERLORD_SHELL</div>
                </div>
                <div class="full-content-area" id="mail-content-area">
                    <div id="terminal-output"
                        style="flex:1; background:black; padding:15px; font-family:monospace; border:1px solid #003b00; overflow:auto;">
                        [v] CONNECTED_TO_LOCAL_NODE...
                        [i] WELCOME_TO_OPENCLAW_SHELL
                    </div>
                    <div class="search-bar" style="width:100%; margin-top:10px;">
                        <span class="prompt">></span>
                        <input type="text" placeholder="EXECUTE_COMMAND..." id="terminal-input">
                    </div>
                </div>
            </div>

            <!-- VIEW: SYSTEM (Settings) -->
            <div class="view" id="settings">
                <div class="settings-container">
                    <div class="settings-header">
                        <h2>SYSTEM_CONFIG</h2>
                    </div>

                    <div class="settings-form">
                        <div class="form-section">
                            <h3>[SMS_UPLINK]</h3>
                            <div class="form-row">
                                <label>GRIZZLY_KEY</label>
                                <input type="password" id="set-grizzly" class="sphere-input">
                            </div>
                            <div class="form-row">
                                <label>SIMSMS_KEY</label>
                                <input type="password" id="set-simsms" class="sphere-input">
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>[SECURITY_BYPASS]</h3>
                            <div class="form-row">
                                <label>CAP_GURU_KEY</label>
                                <input type="password" id="set-capguru" class="sphere-input">
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>[CORE_PARAMS]</h3>
                            <div class="form-row">
                                <label>MAX_THREADS</label>
                                <input type="number" id="set-threads" class="sphere-input" value="35">
                            </div>
                            <div class="form-row">
                                <label>AI_CORE_KEY (GROQ)</label>
                                <input type="password" id="set-groq" class="sphere-input">
                            </div>
                        </div>

                        <button class="btn btn-success btn-block" id="btn-save-settings">COMMIT_CHANGES</button>
                    </div>
                </div>
            </div>

        </main>

        <!-- Status Bar -->
        <footer class="status-bar">
            <div class="status-item"><i class="fas fa-users"></i> TOT: <span id="sb-total">0</span></div>
            <div class="status-item"><i class="fas fa-check-circle"></i> LVL_MAX: <span id="sb-warmed">0</span></div>
            <div class="status-item"><i class="fas fa-bolt"></i> CPU: <span id="sb-threads">0</span></div>
            <div class="status-item right"><span id="sb-version">MATRIX_v8.0</span></div>
        </footer>
    </div>

    <!-- Modal -->
    <div id="ui-modal" class="modal-overlay" style="display: none;">
        <div class="modal-window">
            <div class="modal-header">
                <h3 id="modal-title">SYSTEM_MESSAGE</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-content" id="modal-body"></div>
            <div class="modal-actions" id="modal-actions">
                <button class="btn btn-primary" id="modal-confirm-btn">ACKNOWLEDGE</button>
            </div>
        </div>
    </div>

    <script src="matrix.js"></script> <!-- Matrix Rain -->
    <script src="app.js"></script>
</body>

</html>